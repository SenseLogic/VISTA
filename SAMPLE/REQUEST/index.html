<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Sample</title>
    </head>
    <body style="font-family:monospace">
        <script src="../../CODE/JAVASCRIPT/vista_base.js"></script>
        <script src="../../CODE/JAVASCRIPT/vista_request.js"></script>
        <script>
            // -- FUNCTIONS

            async function Test(
                )
            {
                var
                    request,
                    result,
                    user;

                ShowErrors();

                request = await SendRequest(
                    "https://reqres.in/api/users/2",
                    "GET"
                    );
                WriteLine( request.response );

                try
                {
                    result = await SendTextRequest(
                        "https://reqres.in/api/users",
                        "POST",
                        GetJsonText(
                            {
                                "name" : "Morpheus",
                                "job" : "leader"
                            }
                            ),
                        {
                            "Content-type" : "application/json; charset=UTF-8"
                        }
                        );
                    WriteLine( result );
                }
                catch ( exception )
                {
                    Dump( exception );
                }

                try
                {
                    user = await SendJsonRequest(
                        "https://reqres.in/api/users",
                        "POST",
                        {
                            "name" : "Morpheus",
                            "job" : "leader"
                        }
                        );
                    WriteLine( user );
                }
                catch ( exception )
                {
                    Dump( exception );
                }
            }

            // -- STATEMENTS

            Test();
        </script>
    </body>
</html>
