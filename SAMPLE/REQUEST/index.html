<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Sample</title>
    </head>
    <body>
        <main>
            <div id="get-request-response">
            </div>
            <div id="post-request-response">
            </div>
            <div id="json-post-request-response">
            </div>
        </main>
        <script src="../../CODE/JAVASCRIPT/vista_base.js"></script>
        <script src="../../CODE/JAVASCRIPT/vista_element.js"></script>
        <script src="../../CODE/JAVASCRIPT/vista_request.js"></script>
        <script>
            // -- FUNCTIONS

            function SetResponseElement(
                element_id,
                response
                )
            {
                GetElementById( element_id ).innerHTML
                    = response.status
                      + "<br/>"
                      + response.statusText
                      + "<br/>"
                      + response.responseText;
            }

            // ~~

            async function Test(
                )
            {
                var
                    response,
                    response_object;

                response = await SendRequest(
                    "https://reqres.in/api/users/2",
                    "GET",
                    {},
                    null
                    );

                SetResponseElement( "get-request-response", response );

                response = await SendRequest(
                    "https://reqres.in/api/users",
                    "POST",
                    {
                        "Content-type" : "application/json; charset=UTF-8"
                    },
                    GetJsonText(
                        {
                            "name" : "Morpheus",
                            "job" : "leader"
                        }
                        )
                    );

                SetResponseElement( "post-request-response", response );

                response_object = await SendJsonRequest(
                    "https://reqres.in/api/users",
                    "POST",
                    {
                        "name" : "Morpheus",
                        "job" : "leader"
                    }
                    );

                GetElementById( "json-post-request-response" ).innerHTML = GetJsonText( response_object );
            }

            // -- STATEMENTS

            Test();
        </script>
    </body>
</html>
